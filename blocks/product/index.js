!function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,r=window.wp.blocks,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"wp-associate-post-r2/product","version":"1.0.0","title":"WP Associate Post R2","category":"embed","description":"Embed product link for WP Associate Post R2.","attributes":{"service":{"type":"string"},"id":{"type":"string"},"type":{"type":"string"},"title":{"type":"string"},"css_class":{"type":"string"},"search":{"type":"string"}},"supports":{"customClassName":false,"className":false,"html":false,"alignWide":false},"textdomain":"wp-associate-post-r2","editorScript":"file:./index.js"}'),n=window.wp.components,s=window.wp.blockEditor,o=window.wp.data,l=window.wp.url,i=window.wp.i18n,c=window.wp.serverSideRender,p=e.n(c),d=window.wp.primitives,u=(0,t.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(d.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"}));function h(){const e=(0,o.select)("core/editor").getCurrentPostId(),t=window.wpapBlockConfig.initTab;return(0,l.addQueryArgs)("media-upload.php",{post_id:e,type:t,tab:t,TB_iframe:!0})}function m(e){let{isSetProduct:r}=e;if(r){const e=()=>window.tb_show((0,i.__)("Product Link","wp-associate-post-r2"),h());return(0,t.createElement)(s.BlockControls,null,(0,t.createElement)(n.ToolbarGroup,null,(0,t.createElement)(n.ToolbarButton,{icon:u,label:(0,i.__)("Change Product","wp-associate-post-r2"),onClick:e})))}return null}function w(e){let{isSetProduct:r}=e;return r?null:(0,t.createElement)(n.Button,{href:h(),variant:"primary",className:"thickbox",title:(0,i.__)("WP Associate Post R2","wp-associate-post-r2")},(0,i.__)("Select Product","wp-associate-post-r2"))}function f(e){let{isSetProduct:r,attributes:n}=e;return r?(0,t.createElement)(p(),{block:a.name,attributes:n}):null}(0,r.registerBlockType)(a,{icon:{src:(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 54.62 54.61"},(0,t.createElement)("path",{fill:"#777c81",fillRule:"evenodd",d:"M394,297.69A27.31,27.31,0,1,1,421.3,325,27.31,27.31,0,0,1,394,297.69Z",transform:"translate(-393.99 -270.38)"}),(0,t.createElement)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M419.46,304.61a1.42,1.42,0,0,1,.21,1.31l-1,3.74h-3.85l1-3.74a2.67,2.67,0,0,1,2.43-1.86A1.41,1.41,0,0,1,419.46,304.61ZM419.9,319l3.6-13.07a2.89,2.89,0,0,0-.4-2.63,2.8,2.8,0,0,0-2.4-1.1h-3.85a4.8,4.8,0,0,0-3,1.1,5,5,0,0,0-1.86,2.63L408.4,319h3.83l2-7.47h3.85L416.07,319Z",transform:"translate(-393.99 -270.38)"}),(0,t.createElement)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M432.72,307.79a2.51,2.51,0,0,1-.94,1.32,2.42,2.42,0,0,1-1.5.55h-1.93l1.54-5.6h1.93a1.4,1.4,0,0,1,1.41,1.86Zm-4.88,3.73h3.85a4.86,4.86,0,0,0,3-1.1,4.92,4.92,0,0,0,1.86-2.63l.51-1.87a2.89,2.89,0,0,0-.4-2.63,2.8,2.8,0,0,0-2.4-1.1h-7.68L422,319h3.83Z",transform:"translate(-393.99 -270.38)"}),(0,t.createElement)("path",{fill:"#ffffff",fillRule:"evenodd",d:"M420.41,294.69a8.43,8.43,0,0,0,3-4.43L426.06,280h-3.61l-3.37,12.89a2.39,2.39,0,0,1-.86,1.29,2.18,2.18,0,0,1-1.4.54H415L418.87,280h-3.59l-3.37,12.89a2.45,2.45,0,0,1-.86,1.29,2.23,2.23,0,0,1-1.42.54h-1.8l3.53-13.49.32-1.23H400.51q-.51.6-1,1.23h8.25l-4,15.34h4.64a6,6,0,0,0,2.7-.59l-.15.59h4.64A7.56,7.56,0,0,0,420.41,294.69Zm14.19-12.32a1.44,1.44,0,0,1,.19,1.29l-.48,1.84a2.43,2.43,0,0,1-.87,1.3,2.19,2.19,0,0,1-1.41.55h-1.8l1.44-5.52h1.8A1.32,1.32,0,0,1,434.6,282.37Zm3.3,3.13.48-1.84a3,3,0,0,0-.38-2.59,2.56,2.56,0,0,0-2.24-1.09h-7.19l-5.34,20.41h25.24c0-.41.08-.82.1-1.23H427.14l2.61-10h3.6a4.41,4.41,0,0,0,2.81-1.08A4.87,4.87,0,0,0,437.9,285.5Z",transform:"translate(-393.99 -270.38)"}))},edit:function(e){var r,a,o;let{attributes:l,setAttributes:c}=e;const p=(0,s.useBlockProps)(),d=!!(l.service&&l.id&&l.type);return(0,t.createElement)("div",p,(0,t.createElement)(m,{isSetProduct:d}),(0,t.createElement)(w,{isSetProduct:d}),(0,t.createElement)(f,{isSetProduct:d,attributes:l}),(0,t.createElement)(n.TextControl,{type:"hidden",value:"service",onChange:e=>c({service:e})}),(0,t.createElement)(n.TextControl,{type:"hidden",value:"id",onChange:e=>c({id:e})}),(0,t.createElement)(n.TextControl,{type:"hidden",value:"type",onChange:e=>c({type:e})}),(0,t.createElement)(s.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,i.__)("Display Settings","wp-associate-post-r2")},(0,t.createElement)(n.TextControl,{label:(0,i.__)("Title","wp-associate-post-r2"),value:null!==(r=l.title)&&void 0!==r?r:"",onChange:e=>c({title:e})}),(0,t.createElement)(n.TextControl,{label:(0,i.__)("Search Keywords","wp-associate-post-r2"),value:null!==(a=l.search)&&void 0!==a?a:"",help:(0,i.__)("The search keywords for Rakuten and Yahoo Shopping.","wp-associate-post-r2"),onChange:e=>c({search:e})}),(0,t.createElement)(n.TextControl,{label:(0,i.__)("CSS Classes","wp-associate-post-r2"),value:null!==(o=l.css_class)&&void 0!==o?o:"",onChange:e=>c({css_class:e})}),(0,t.createElement)("p",null,(0,t.createElement)(n.Dashicon,{icon:"help"}),(0,t.createElement)("a",{href:"https://wp-ap.net/help/gutenberg-panel/",target:"_blank"},(0,i.__)("Display Settings Help","wp-associate-post-r2"))))))},transforms:{from:[{type:"shortcode",tag:"wpap",attributes:{service:{type:"string",shortcode:e=>e.named.service||""},id:{type:"string",shortcode:e=>e.named.id||""},type:{type:"string",shortcode:e=>e.named.type||""},title:{type:"string",shortcode:e=>e.named.title||""},css_class:{type:"string",shortcode:e=>e.named.css_class||""},search:{type:"string",shortcode:e=>e.named.search||""}}}]}})}();